import{i as S,aS as _,D as h,r as i,Y as w,F as C,G as R,H as c,I as t,a0 as g,aq as f,Q as U,$ as m}from"./index.08ad63da.js";import{a as E,b as L}from"./QLayout.c75dd555.js";import{u as b}from"./user-store.2cf16a1d.js";import"./axios.b75ae6bc.js";function A(){return S(_)}const V={class:"column"},Q=g("h1",{style:{"text-align":"center"}}," LOGIN!! ",-1),q=h({__name:"LoginPage",setup(T){const o=i(""),a=i(""),n=i(!0),u=b(),v=w(),r=A(),e=i(null);async function y(){o.value===""||a.value===""?d():(e.value=await u.accountResponse(o.value,a.value),e.value.accountResponse==="SUCCESSFUL_LOGIN"?(sessionStorage.setItem("loogedInID",e.value.id),p()):(e.value.accountResponse==="NOT_FOUND"||e.value.accountResponse==="USERNAME_TAKEN")&&(sessionStorage.removeItem("loogedInID"),N()))}async function I(){o.value===""||a.value===""?d():(e.value=await u.accountResponse(o.value,a.value),e.value.accountResponse==="USERNAME_TAKEN"||e.value.accountResponse==="SUCCESSFUL_LOGIN"?(sessionStorage.removeItem("loogedInID"),x()):(sessionStorage.setItem("loogedInID",await u.createAccount(o.value,a.value)),p()))}function x(){r.notify({message:"This account already exists.",color:"indigo"})}function N(){r.notify({message:"The username or password is incorrect. Try again.",color:"indigo"})}function d(){r.notify({message:"Please fill in both fields.",color:"indigo"})}function p(){v.push("/home")}return(k,s)=>(C(),R(E,{view:"hHh LpR fFf"},{default:c(()=>[t(L,{style:{"padding-left":"500px","padding-right":"500px","padding-top":"100px"}},{default:c(()=>[g("div",V,[Q,t(f,{modelValue:o.value,"onUpdate:modelValue":s[0]||(s[0]=l=>o.value=l),dense:"",filled:"",label:"Username"},null,8,["modelValue"]),t(f,{modelValue:a.value,"onUpdate:modelValue":s[2]||(s[2]=l=>a.value=l),class:"q-pt-sm",dense:"",filled:"",type:n.value?"password":"text",label:"Password"},{append:c(()=>[t(U,{name:n.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:s[1]||(s[1]=l=>n.value=!n.value)},null,8,["name"])]),_:1},8,["modelValue","type"]),t(m,{color:"primary",style:{"padding-left":"50px","padding-right":"50px","margin-top":"8px"},label:"Login",onClick:y}),t(m,{color:"indigo",style:{"padding-left":"50px","padding-right":"50px","margin-top":"8px"},label:"Create account ?",onClick:I})])]),_:1})]),_:1}))}});export{q as default};
